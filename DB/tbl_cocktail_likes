-- 테이블 생성 SQL - tbl_cocktail_likes
CREATE TABLE tbl_cocktail_likes
(
    `like_idx`    INT UNSIGNED    NOT NULL    AUTO_INCREMENT COMMENT '좋아요 식별자', 
    `user_id`     VARCHAR(30)     NOT NULL    COMMENT '유저 아이디', 
    `ct_idx`      INT UNSIGNED    NOT NULL    COMMENT '칵테일 식별자', 
    `created_at`  TIMESTAMP       NOT NULL    DEFAULT CURRENT_TIMESTAMP COMMENT '등록 일자', 
     PRIMARY KEY (like_idx)
);

-- 테이블 Comment 설정 SQL - tbl_cocktail_likes
ALTER TABLE tbl_cocktail_likes COMMENT '좋아요수';

-- Foreign Key 설정 SQL - tbl_cocktail_likes(user_id) -> tbl_user(user_id)
ALTER TABLE tbl_cocktail_likes
    ADD CONSTRAINT FK_tbl_cocktail_likes_user_id_tbl_user_user_id FOREIGN KEY (user_id)
        REFERENCES tbl_user (user_id) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- Foreign Key 설정 SQL - tbl_cocktail_likes(ct_idx) -> tbl_cocktail(ct_idx)
ALTER TABLE tbl_cocktail_likes
    ADD CONSTRAINT FK_tbl_cocktail_likes_ct_idx_tbl_cocktail_ct_idx FOREIGN KEY (ct_idx)
        REFERENCES tbl_cocktail (ct_idx) ON DELETE RESTRICT ON UPDATE RESTRICT;
